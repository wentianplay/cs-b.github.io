:<!DOCTYPE html>
<html>
<head>
    <title>网络安全攻防模拟</title>
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .attack-section {
            border: 1px solid #ccc;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .code {
            background-color: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
        }
        .result {
            color: red;
            margin-top: 10px;
        }
        button {
            padding: 5px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>网络安全攻防模拟器</h1>
        
        <!-- XSS攻击模拟 -->
        <div class="attack-section">
            <h2>XSS攻击模拟</h2>
            <div class="code">
                评论功能模拟（输入内容将直接显示）：
                <input type="text" id="commentInput">
                <button onclick="postComment()">提交评论</button>
                <div id="comments"></div>
            </div>
            <button onclick="showHint('xss')">显示提示</button>
            <div id="xssHint" class="hint"></div>
        </div>

        <!-- SQL注入模拟 -->
        <div class="attack-section">
            <h2>SQL注入模拟</h2>
            <div class="code">
                用户登录模拟（输入用户名）：
                <input type="text" id="usernameInput">
                <button onclick="checkLogin()">检查用户</button>
                <div id="sqlResult"></div>
            </div>
            <button onclick="showHint('sql')">显示提示</button>
            <div id="sqlHint" class="hint"></div>
        </div>
    </div>

    <script>
        // XSS攻击演示
        function postComment() {
            const comment = document.getElementById('commentInput').value;
            document.getElementById('comments').innerHTML += 
                `<div>用户评论：${comment}</div>`;
        }

        // SQL注入演示
        function checkLogin() {
            const username = document.getElementById('usernameInput').value;
            // 模拟不安全的SQL拼接
            const fakeSQL = `SELECT * FROM users WHERE username = '${username}'`;
            
            // 模拟注入结果
            const resultDiv = document.getElementById('sqlResult');
            if (username.includes("' OR '1'='1")) {
                resultDiv.innerHTML = "登录成功！用户列表：admin, user1, guest";
            } else {
                resultDiv.innerHTML = `执行的SQL: ${fakeSQL}<br>未找到用户`;
            }
        }

        // 显示提示信息
        function showHint(type) {
            const hints = {
                xss: "XSS攻击提示：尝试输入 <script>alert('XSS')</script> 或者 <img src='x' onerror='alert(1)'>",
                sql: "SQL注入提示：尝试输入 ' OR '1'='1 或者 admin' -- "
            };
            document.getElementById(type + 'Hint').innerHTML = `
                <p>漏洞原理：${hints[type]}</p>
                <p>防御方法：${type === 'xss' ? '对用户输入进行HTML转义' : '使用参数化查询'}</p>
            `;
        }
    </script>
</body>
</html>
